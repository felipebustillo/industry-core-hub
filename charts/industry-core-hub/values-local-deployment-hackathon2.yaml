###############################################################
# Eclipse Tractus-X - Industry Core Hub
#
# Copyright (c) 2025 LKS Next
# Copyright (c) 2025 Contributors to the Eclipse Foundation
#
# See the NOTICE file(s) distributed with this work for additional
# information regarding copyright ownership.
#
# This program and the accompanying materials are made available under the
# terms of the Apache License, Version 2.0 which is available at
# https://www.apache.org/licenses/LICENSE-2.0.
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations
# under the License.
#
# SPDX-License-Identifier: Apache-2.0
###############################################################

participantId: "BPNL000000000342"
deploymentMode: "helm"

backend:
  image:
    repository: "cdie/ichub-b"
    tag: "4"
  enabled: true
  cors:
    enabled: true
    allow_origins:
      - "http://ichub-frontend.tx.test"
  configuration:
    hostname: "https://hackathon2-ichub-backend.esauto-x.com/v1"
    logger:
      level: "DEBUG"
    authorization:
      enabled: false
      apiKey:
        key: "X-Api-Key"
        value: ["<example>"]
      keycloak:
        enabled: false
        authUrl: "https://ichub-keycloak.tx.test/auth/"
        realm: "ICHub"
        clientId: "industry-core-hub-api"
        clientSecret: "ichub-client-secret-2024"
    consumer:
      discovery:
        discovery_finder:
          url: "https://semantics.esauto-x.com/discoveryfinder/api/v1.0/administration/connectors/discovery/search"
        oauth:
          url: "https://centralidp.esauto-x.com/auth/"
          realm: "CX-Central"
          client_id: "sa4"
          client_secret: "4iqIcPYNNdwNLNnXlii54V1PI11B5ND8"
      connector:
        controlplane:
          hostname: "https://hackathon2-connector-controlplane.esauto-x.com"
          apiKeyHeader: "X-Api-Key"
          apiKey: "HACKATHON2"
          managementPath: "/management"
          protocolPath: "/api/v1/dsp"
          catalogPath: "/catalog"
    provider:
      connector:
        controlplane:
          hostname: "https://hackathon2-connector-controlplane.esauto-x.com"
          apiKeyHeader: "X-Api-Key"
          apiKey: "HACKATHON2"
          managementPath: "/management"
          protocolPath: "/api/v1/dsp"
        dataplane:
          hostname: "https://hackathon2-connector-dataplane.esauto-x.com"
          publicPath: "/api/public"
      digitalTwinRegistry:
        hostname: "https://hackathon2-connector-dtr.esauto-x.com"
        apiPath: "/api/v3"
      uri: ""
      # -- Submodel Dispatcher configuration
      submodel_dispatcher:
        mode: "http" # "http" or "filesystem"
        http:
          base_url: "https://hackathon2-ichub-backend.esauto-x.com"
          api_path: "/v1/submodel-dispatcher"
          auth:
            enabled: true
            type: "apikey"
            token: "HACKATHON2-HACKATHON2-HACKATHON2"
            key_name: "X-Api-Key"
          timeout: 30
          verify_ssl: true
  ingress:
    enabled: true
    hosts:
      - host: "ichub-backend.tx.test"
        paths:
          - path: /
            pathType: ImplementationSpecific
            backend:
              service: "backend"
              port: 8000

postgresql:
  enabled: true
  primary:
    persistence:
      enabled: false

frontend:
  image:
    repository: "cdie/ichub-f"
    tag: "2"
  enabled: true
  config:
    ichubBackendUrl: "http://ichub-backend.tx.test/v1"
        # API key configuration (optional)
    apiKey: ""
    apiKeyHeader: "X-API-Key"
    enableApiKeyRotation: false
    apiKeyExpiryWarningDays: 7

    # Authentication configuration
    authEnabled: false
    authProvider: "none"  # none, keycloak
    keycloak:
      url: "https://ichub-keycloak.tx.test/auth"
  env:
    backendUrl: "http://ichub-backend.tx.test/v1"
  ingress:
    enabled: true
    hosts:
      - host: "ichub-frontend.tx.test"
        paths:
          - path: /
            pathType: ImplementationSpecific
            backend:
              service: "frontend"
              port: 8080

pgadmin4:
  enabled: false

keycloak:
  enabled: false
  ingress:
    enabled: true
    hostname: "ichub-keycloak.tx.test"
